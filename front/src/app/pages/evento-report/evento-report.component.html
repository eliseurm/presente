<div class="p-4 flex justify-center">
    <p-panel header="Relat칩rio de Evento (PDF)" class="w-full max-w-4xl">
        <p-toast></p-toast>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 p-4">

            <div class="flex flex-col gap-2">
                <label for="tipoRelatorio" class="font-bold">Tipo de Relat칩rio</label>
                <enum-select
                    class="w-full"
                    [enumObject]="eventoReportEnumType"
                    [(ngModel)]="filter.nomeRelatorio"
                    (ngModelChange)="onRelatorioChange($event)"
                    name="statusSelecionado">
                </enum-select>
            </div>

            <div class="flex flex-col gap-2">
                <label for="nomeArquivo" class="font-bold">Nome do Arquivo (PDF)</label>
                <input
                    id="nomeArquivo"
                    pInputText
                    name="nomeArquivo"
                    [(ngModel)]="filter.nomeArquivo"
                    (blur)="sanitizarNomeArquivo()"
                    placeholder="ex: relatorio_evento"/>
            </div>

            <div class="flex flex-col gap-2">
                <label class="font-bold">Cliente</label>
                <p-select
                    [options]="clientes"
                    [(ngModel)]="filter.clienteId"
                    optionLabel="nome"
                    optionValue="id"
                    placeholder="Selecione um Cliente"
                    (onChange)="carregarEventos()"
                    [filter]="true"
                    filterBy="nome"
                    styleClass="w-full">
                </p-select>
            </div>

            <div class="flex flex-col gap-2">
                <label class="font-bold">Evento</label>
                <p-select
                    [options]="eventos"
                    [(ngModel)]="filter.eventoId"
                    optionLabel="nome"
                    optionValue="id"
                    placeholder="Selecione um Evento"
                    [disabled]="!filter.clienteId"
                    [filter]="true"
                    filterBy="nome"
                    emptyMessage="Nenhum evento encontrado"
                    styleClass="w-full">
                </p-select>
            </div>

            <div class="flex flex-col gap-2 md:col-span-2">
                <label class="font-bold">Status do Convidado</label>
                <p-selectButton
                    [options]="opcoesEscolha"
                    [(ngModel)]="filter.jaEscolheu"
                    [disabled]="disableJaEscolheu"
                    styleClass="w-full"
                    optionLabel="label"
                    optionValue="value">
                </p-selectButton>
                <small class="text-gray-500">
                    Filtre quem j치 escolheu o presente, quem est치 pendente ou liste todos.
                </small>
            </div>

        </div>

        <ng-template pTemplate="footer">
            <div class="flex justify-end gap-2">
                <button pButton
                        label="Gerar PDF"
                        icon="pi pi-file-pdf"
                        class="p-button-danger"
                        [loading]="loading"
                        [disabled]="!filter.eventoId || !filter.nomeRelatorio"
                        (click)="gerarRelatorio()">
                </button>
            </div>
        </ng-template>
    </p-panel>
</div>
