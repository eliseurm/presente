<crud #crudRef [parent]="vm" [listToolbarTitle]="'Tamanhos'" [editToolbarTitle]="'Editar Tamanho'"
      [collapsibleFilters]="true"
      [showListCloseButton]="true"
      (closeButtonAction)="onCloseCrud()">

  <!-- Filtros -->
  <div crud-list-filter-fields class="w-full text-left">
    <crud-filter
      [filter]="vm.filter"
      [fields]="filterFields"
      [loading]="false"
      (onSearch)="vm.doFilter().subscribe()"
      (onClear)="onClearFilters()"
    ></crud-filter>
  </div>

  <!-- Grid -->
  <div crud-list-grid class="w-full">
    <p-table [value]="vm.dataSource"
             [paginator]="true"
             [rows]="vm.filter.size || 10"
             [totalRecords]="vm.totalRecords"
             [lazy]="false"
             responsiveLayout="scroll"
             (onPage)="onPage($event)">
      <ng-template pTemplate="header">
        <tr>
          <th class="hide-sm">ID</th>
          <th>Tipo</th>
          <th>Tamanho</th>
          <th style="width:1%">Ações</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-row>
        <tr (dblclick)="crudRef.onRowDblClick(row)">
          <td class="hide-sm">{{ row.id }}</td>
          <td>{{ getTipoDescricao(row.tipo) }}</td>
          <td>{{ row.tamanho }}</td>
          <td>
            <button pButton type="button" icon="pi pi-pencil" class="p-button-text p-button-sm" aria-label="Editar"
                    (click)="crudRef.onRowDblClick(row)"></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>

  <!-- Formulário de edição (consumidor controla validação) -->
  <div crud-edit-template class="grid p-fluid text-left">
    <div class="col-12 md:col-6 text-left">
      <label class="block mb-2">Tipo de Produto</label>
      <enum-select [enumObject]="tipoProdutoEnumType" [(ngModel)]="vm.model.tipo" name="tipo"></enum-select>
    </div>
    <div class="col-12 md:col-6 text-left">
      <label class="block mb-2">Tamanho</label>
      <input pInputText type="text" [(ngModel)]="vm.model.tamanho" name="tamanho" placeholder="Informe o tamanho" />
    </div>
  </div>

</crud>

<p-toast position="top-right" [breakpoints]="{'920px': {width: '100%', right: '0', left: '0'}}"></p-toast>
